<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario - Tienda JR</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-left">
            <div class="header-logo"
                style="display: flex; align-items: center; justify-content: center; font-size: 0.5rem; text-align: center; border: 2px dashed black;">
                Tienda<br>de ropa<br>JR
            </div>
            <div class="header-title">Administrador</div>
        </div>
        <div class="header-menu" style="position: relative;">
            <i class="fas fa-bars" onclick="toggleMenu()" style="cursor: pointer;"></i>
            <div id="menuDropdown"
                style="display: none; position: absolute; top: 30px; right: 0; background-color: white; border: 1px solid #ccc; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 1000;">
                <div onclick="handleLogout()"
                    style="padding: 10px 20px; white-space: nowrap; cursor: pointer; font-weight: bold; color: #333; font-size: 0.9rem;">
                    Cerrar Sesión
                </div>
            </div>
        </div>
    </header>

    <!-- Tabs -->
    <div class="nav-tabs-container">
        <div class="nav-tab active">INVENTARIO</div>
        <a href="/ventas" class="nav-tab">VENTAS</a>
        <a href="/administrar" class="nav-tab">ADMINISTRAR</a>
    </div>

    <!-- Content -->
    <div class="content-wrapper tab-1-active">
        <div class="search-container">
            <i class="fas fa-search" style="font-size: 1.5rem;"></i>
            <input type="text" id="searchInput" class="search-input" placeholder="Buscar producto">
        </div>

        <div id="inventoryListContainer" class="inventory-list">
            <!-- Dynamic Content -->
        </div>

        <a href="/inventario/registrar" class="btn"
            style="position: absolute; bottom: 30px; right: 30px; background-color: var(--color-primary); border-radius: 20px; border: 1px solid #000; padding: 10px 30px;">Registrar
            Producto</a>
    </div>

    <!-- Edit Modal (Image 1) -->
    <div id="editModal" class="modal-overlay"
        style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100;">
        <div class="modal-content-large" style="background-color: #F0FDFF; max-width: 700px;">
            <div class="close-btn" onclick="closeModal('editModal')">X</div>

            <div style="display: flex; gap: 30px;">
                <div style="flex: 1; display: flex; flex-direction: column; gap: 15px;">
                    <div style="display: flex; align-items: center;">
                        <label
                            style="width: 120px; font-weight: bold; text-align: right; margin-right: 10px;">Codigo:</label>
                        <input type="text" id="editCode"
                            style="flex: 1; padding: 8px; border: 1px solid #333; border-radius: 5px;">
                    </div>
                    <div style="display: flex; align-items: center;">
                        <label
                            style="width: 120px; font-weight: bold; text-align: right; margin-right: 10px;">Descripción:</label>
                        <input type="text" id="editName"
                            style="flex: 1; padding: 8px; border: 1px solid #333; border-radius: 5px;">
                    </div>
                    <div style="display: flex; align-items: center;">
                        <label style="width: 120px; font-weight: bold; text-align: right; margin-right: 10px;">Costo
                            unitario:</label>
                        <input type="text" id="editPrice"
                            style="flex: 1; padding: 8px; border: 1px solid #333; border-radius: 5px;">
                    </div>
                    <div style="display: flex; align-items: center;">
                        <label style="width: 120px; font-weight: bold; text-align: right; margin-right: 10px;">Cantidad
                            en stock:</label>
                        <div
                            style="flex: 1; display: flex; align-items: center; border: 1px solid #333; border-radius: 5px; padding: 5px; background: white;">
                            <input type="text" id="editStock" style="border: none; width: 100%; outline: none;">
                            <div style="display: flex; flex-direction: column;">
                                <i class="fas fa-chevron-up" style="font-size: 0.6rem;"></i>
                                <i class="fas fa-chevron-down" style="font-size: 0.6rem;"></i>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <label style="width: 120px; font-weight: bold; text-align: right; margin-right: 10px;">Tipo de
                            prenda:</label>
                        <select id="editType"
                            style="flex: 1; padding: 8px; border: 1px solid #333; border-radius: 5px;">
                            <option value="Pantalones">Pantalones</option>
                            <option value="Chaquetas">Chaquetas</option>
                            <option value="Camisas">Camisas</option>
                            <option value="Vestidos">Vestidos</option>
                            <option value="Interiores">Interiores</option>
                        </select>
                    </div>

                    <div id="editTotalCost" style="margin-top: 20px; font-weight: bold; text-align: center;">
                        Costo total en ganacias : 350000 COP
                    </div>
                </div>

                <div style="width: 200px;">
                    <img src="https://via.placeholder.com/200x300"
                        style="width: 100%; height: auto; border-radius: 5px;">
                </div>
            </div>

            <div style="text-align: right; margin-top: 20px;">
                <button onclick="openConfirmEditModal()"
                    style="background-color: var(--color-primary); border: 1px solid #000; padding: 10px 30px; border-radius: 20px; cursor: pointer; font-weight: bold;">Guardar
                    cambios</button>
            </div>
        </div>
    </div>

    <!-- Confirm Edit Modal (Image 2) -->
    <div id="confirmEditModal" class="modal-overlay"
        style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 200; background-color: #094C62;">
        <div style="width: 100%; max-width: 700px; position: relative; color: white;">
            <div class="close-btn" onclick="closeModal('confirmEditModal')" style="color: black;">X</div>

            <h2 style="text-align: center; margin-bottom: 40px; color: black; font-family: serif;">Porfavor confirme si
                los datos son correctos</h2>

            <div style="display: flex; justify-content: center; gap: 40px;">
                <div style="text-align: left; font-size: 1.1rem; line-height: 1.8;">
                    <p id="confirmName">Pantalon floreado</p>
                    <p id="confirmCode">Cod. 001</p>
                    <p id="confirmPrice">Costo unitario : 35000 COP</p>
                    <p id="confirmStock">Cantidad en stock : 10</p>
                    <p id="confirmType">Tipo de perenda: Pantalones</p>
                    <p id="confirmTotal">Costo total en stock : 350000 COP</p>
                </div>
                <div>
                    <img src="https://via.placeholder.com/200x300" style="border-radius: 5px;">
                </div>
            </div>

            <div style="display: flex; justify-content: center; gap: 30px; margin-top: 40px;">
                <button onclick="showSuccessEdit()"
                    style="background-color: #38B000; color: black; border: 1px solid #000; padding: 10px 40px; border-radius: 20px; font-weight: bold; cursor: pointer;">Continuar</button>
                <button onclick="closeModal('confirmEditModal')"
                    style="background-color: #E63946; color: black; border: 1px solid #000; padding: 10px 40px; border-radius: 20px; font-weight: bold; cursor: pointer;">Atrás</button>
            </div>
        </div>
    </div>

    <!-- Success Edit Modal (Image 3) -->
    <div id="successModal" class="modal-overlay"
        style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 300;">
        <div class="modal-content-large" style="text-align: center; max-width: 500px; background-color: #F0FDFF;">
            <div class="close-btn" onclick="closeModal('successModal')">X</div>
            <h2 style="font-family: serif; font-size: 1.8rem; margin-bottom: 20px;">EL PRODUCTO SE EDITO CON ÉXITO</h2>
            <img src="https://via.placeholder.com/150x200" style="border-radius: 5px; margin-bottom: 20px;">
            <br>
            <button onclick="closeModal('successModal')"
                style="background-color: var(--color-primary); padding: 10px 40px; border-radius: 20px; border: 1px solid #000; font-weight: bold; cursor: pointer;">OK</button>
        </div>
    </div>

    <!-- Delete Modal (Image 4) -->
    <div id="deleteModal" class="modal-overlay"
        style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100;">
        <div class="modal-content-large" style="background-color: #F0FDFF; max-width: 600px; text-align: center;">
            <div class="close-btn" onclick="closeModal('deleteModal')">X</div>

            <h2 style="font-family: serif; margin-bottom: 30px;">¿Esta seguro en eliminar el producto?</h2>

            <div style="display: flex; justify-content: center; gap: 30px; text-align: left; margin-bottom: 30px;">
                <div style="font-size: 1.1rem; line-height: 1.6;" id="deleteProductDetails">
                    <!-- Dynamic Details -->
                </div>
                <div>
                    <img src="https://via.placeholder.com/150x200" style="border-radius: 5px;">
                </div>
            </div>

            <div style="display: flex; justify-content: center; gap: 20px;">
                <button onclick="closeModal('deleteModal')"
                    style="background-color: #90EE90; border: 1px solid #000; padding: 10px 30px; border-radius: 20px; cursor: pointer; font-weight: bold;">Conservar</button>
                <button onclick="showSuccessDelete()"
                    style="background-color: #E63946; border: 1px solid #000; padding: 10px 30px; border-radius: 20px; cursor: pointer; font-weight: bold; color: white;">Eliminar</button>
            </div>
        </div>
    </div>

    <!-- Success Delete Modal (New) -->
    <div id="successDeleteModal" class="modal-overlay"
        style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 300;">
        <div class="modal-content-large" style="text-align: center; max-width: 500px; background-color: #F0FDFF;">
            <div class="close-btn" onclick="closeModal('successDeleteModal')">X</div>
            <h2 style="font-family: serif; font-size: 1.8rem; margin-bottom: 20px;">EL PRODUCTO SE ELIMINO CON ÉXITO
            </h2>
            <img src="https://via.placeholder.com/150x200" style="border-radius: 5px; margin-bottom: 20px;">
            <br>
            <button onclick="closeModal('successDeleteModal')"
                style="background-color: var(--color-primary); padding: 10px 40px; border-radius: 20px; border: 1px solid #000; font-weight: bold; cursor: pointer;">OK</button>
        </div>
    </div>

    <script src="/js/main.js"></script>
</body>

</html>